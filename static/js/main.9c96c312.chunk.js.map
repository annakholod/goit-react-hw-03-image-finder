{"version":3,"sources":["components/Gallery/PhotoCard/PhotoCard.module.css","components/App/App.module.css","components/SearchForm/SearchForm.module.css","components/Loader/Loader.module.css","components/Error/Error.module.css","components/SearchForm/SearchForm.jsx","components/Gallery/PhotoCard/Modal/Modal.jsx","components/Gallery/PhotoCard/PhotoCard.jsx","components/Gallery/Gallery.jsx","components/Loader/Loader.jsx","components/Error/Error.jsx","services/api.js","components/App/App.jsx","index.js","components/Gallery/Gallery.module.css","components/Gallery/PhotoCard/Modal/Modal.module.css"],"names":["module","exports","SearchForm","inputValue","handleChange","handleSubmit","className","style","searchForm","onSubmit","type","autoComplete","placeholder","value","onChange","Modal","backdropRef","createRef","handlePressKey","evt","code","props","closeModal","handleBackdropClick","current","target","window","removeEventListener","this","addEventListener","children","overlay","role","tabIndex","ref","onClick","modal","Component","PhotoCard","id","url","likes","views","comments","downloads","isOpenModal","openModal","checkedImg","photoCard","photoCardImg","src","alt","stats","statsItem","fullscreenButton","modalImg","largeImageURL","defaultProps","Gallery","photos","showMorePhotos","gallery","map","el","key","webformatURL","button","Loader","loader","Error","error","fetchPhotos","query","pageNumber","URL","axios","get","App","state","isLoading","isError","count","checkedImgId","listRef","setState","preventDefault","getPhotos","then","res","data","hits","catch","finally","nextFetchPhotos","prevState","scrollPage","scrollHeight","scrollTo","top","behavior","countClick","find","app","length","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9c96c312.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"photoCard\":\"PhotoCard_photoCard__3yimJ\",\"photoCardImg\":\"PhotoCard_photoCardImg__39-kY\",\"stats\":\"PhotoCard_stats__1jisE\",\"statsItem\":\"PhotoCard_statsItem__2blRh\",\"fullscreenButton\":\"PhotoCard_fullscreenButton__3XrBI\",\"modalImg\":\"PhotoCard_modalImg__3pdty\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__1djDG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchForm\":\"SearchForm_searchForm__29_Rt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__2OxB2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"Error_error__lVObW\"};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport style from './SearchForm.module.css';\r\n\r\nconst SearchForm = ({ inputValue, handleChange, handleSubmit }) => (\r\n  <form className={style.searchForm} onSubmit={handleSubmit}>\r\n    <input\r\n      type=\"text\"\r\n      autoComplete=\"off\"\r\n      placeholder=\"Search images...\"\r\n      value={inputValue}\r\n      onChange={handleChange}\r\n    />\r\n  </form>\r\n);\r\n\r\nSearchForm.propTypes = {\r\n  inputValue: PropTypes.string.isRequired,\r\n  handleChange: PropTypes.func.isRequired,\r\n  handleSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default SearchForm;\r\n","import React, { Component, createRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport style from './Modal.module.css';\r\n\r\nclass Modal extends Component {\r\n  backdropRef = createRef();\r\n\r\n  static propTypes = {\r\n    closeModal: PropTypes.func.isRequired,\r\n    children: PropTypes.node.isRequired,\r\n  };\r\n\r\n  UNSAFE_componentWillMount() {\r\n    window.removeEventListener('keydown', this.handlePressKey);\r\n  }\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handlePressKey);\r\n  }\r\n\r\n  handlePressKey = evt => {\r\n    if (evt.code !== 'Escape') return;\r\n    this.props.closeModal();\r\n  };\r\n\r\n  handleBackdropClick = evt => {\r\n    const { current } = this.backdropRef;\r\n    if (current && evt.target !== current) return;\r\n    this.props.closeModal();\r\n  };\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n    return (\r\n      <div\r\n        className={style.overlay}\r\n        role=\"button\"\r\n        tabIndex={0}\r\n        ref={this.backdropRef}\r\n        onClick={this.handleBackdropClick}\r\n      >\r\n        <div className={style.modal}>{children}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport style from './PhotoCard.module.css';\r\nimport Modal from './Modal/Modal';\r\n\r\nconst PhotoCard = ({\r\n  id,\r\n  url,\r\n  likes,\r\n  views,\r\n  comments,\r\n  downloads,\r\n  isOpenModal,\r\n  openModal,\r\n  closeModal,\r\n  checkedImg,\r\n}) => {\r\n  return (\r\n    <li className={style.photoCard}>\r\n      <img className={style.photoCardImg} src={url} alt=\"\" />\r\n\r\n      <div className={style.stats}>\r\n        <p className={style.statsItem}>\r\n          <i className=\"material-icons\">thumb_up</i>\r\n          {likes}\r\n        </p>\r\n        <p className={style.statsItem}>\r\n          <i className=\"material-icons\">visibility</i>\r\n          {views}\r\n        </p>\r\n        <p className={style.statsItem}>\r\n          <i className=\"material-icons\">comment</i>\r\n          {comments}\r\n        </p>\r\n        <p className={style.statsItem}>\r\n          <i className=\"material-icons\">cloud_download</i>\r\n          {downloads}\r\n        </p>\r\n      </div>\r\n\r\n      <button\r\n        type=\"button\"\r\n        className={style.fullscreenButton}\r\n        onClick={() => openModal(id)}\r\n      >\r\n        <i className=\"material-icons\">zoom_out_map</i>\r\n      </button>\r\n      {isOpenModal && (\r\n        <Modal closeModal={closeModal}>\r\n          <img\r\n            className={style.modalImg}\r\n            src={checkedImg.largeImageURL}\r\n            alt=\"\"\r\n          />\r\n        </Modal>\r\n      )}\r\n    </li>\r\n  );\r\n};\r\n\r\nPhotoCard.defaultProps = {\r\n  checkedImg: {},\r\n};\r\n\r\nPhotoCard.propTypes = {\r\n  id: PropTypes.number.isRequired,\r\n  url: PropTypes.string.isRequired,\r\n  likes: PropTypes.number.isRequired,\r\n  views: PropTypes.number.isRequired,\r\n  comments: PropTypes.number.isRequired,\r\n  downloads: PropTypes.number.isRequired,\r\n  isOpenModal: PropTypes.bool.isRequired,\r\n  openModal: PropTypes.func.isRequired,\r\n  closeModal: PropTypes.func.isRequired,\r\n  checkedImg: PropTypes.shape({\r\n    largeImageURL: PropTypes.string,\r\n  }),\r\n};\r\n\r\nexport default PhotoCard;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport style from './Gallery.module.css';\r\nimport PhotoCard from './PhotoCard/PhotoCard';\r\n\r\nconst Gallery = ({\r\n  photos,\r\n  checkedImg,\r\n  showMorePhotos,\r\n  isOpenModal,\r\n  openModal,\r\n  closeModal,\r\n}) => (\r\n  <>\r\n    <ul className={style.gallery}>\r\n      {photos.map(el => (\r\n        <PhotoCard\r\n          key={el.id}\r\n          url={el.webformatURL}\r\n          likes={el.likes}\r\n          views={el.views}\r\n          comments={el.comments}\r\n          downloads={el.downloads}\r\n          id={el.id}\r\n          isOpenModal={isOpenModal}\r\n          openModal={openModal}\r\n          closeModal={closeModal}\r\n          checkedImg={checkedImg}\r\n        />\r\n      ))}\r\n    </ul>\r\n    <button className={style.button} type=\"button\" onClick={showMorePhotos}>\r\n      Load more\r\n    </button>\r\n  </>\r\n);\r\n\r\nGallery.defaultProps = {\r\n  checkedImg: {},\r\n};\r\n\r\nGallery.propTypes = {\r\n  photos: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n      webformatURL: PropTypes.string.isRequired,\r\n      likes: PropTypes.number.isRequired,\r\n      views: PropTypes.number.isRequired,\r\n      comments: PropTypes.number.isRequired,\r\n      downloads: PropTypes.number.isRequired,\r\n    }).isRequired,\r\n  ).isRequired,\r\n  checkedImg: PropTypes.shape({\r\n    largeImageURL: PropTypes.string,\r\n  }),\r\n  showMorePhotos: PropTypes.func.isRequired,\r\n  isOpenModal: PropTypes.bool.isRequired,\r\n  openModal: PropTypes.func.isRequired,\r\n  closeModal: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Gallery;\r\n","import React from 'react';\r\nimport style from './Loader.module.css';\r\n\r\nconst Loader = () => {\r\n  return <h2 className={style.loader}>Loading...</h2>;\r\n};\r\n\r\nexport default Loader;\r\n","import React from 'react';\r\nimport style from './Error.module.css';\r\n\r\nconst Error = () => {\r\n  return (\r\n    <h2 className={style.error}>\r\n      Sorry, we couldn't find photos. Please try again later.\r\n    </h2>\r\n  );\r\n};\r\n\r\nexport default Error;\r\n","import axios from 'axios';\n\nconst fetchPhotos = (query = '', pageNumber = 1) => {\n  const URL = `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${query}&page=${pageNumber}&per_page=12&key=5018958-ed49ccd90878e6614abdf24a6`;\n  return axios.get(URL);\n};\n\nexport default fetchPhotos;\n","import React, { Component, createRef } from 'react';\nimport style from './App.module.css';\nimport SearchForm from '../SearchForm/SearchForm';\nimport Gallery from '../Gallery/Gallery';\nimport Loader from '../Loader/Loader';\nimport Error from '../Error/Error';\nimport fetchPhotos from '../../services/api';\n\nclass App extends Component {\n  state = {\n    photos: [],\n    inputValue: '',\n    isLoading: false,\n    isError: false,\n    count: 2,\n    isOpenModal: false,\n    checkedImgId: null,\n  };\n\n  listRef = createRef();\n\n  componentDidMount() {\n    this.getPhotos();\n  }\n\n  handleChange = evt => {\n    this.setState({\n      inputValue: evt.target.value,\n    });\n  };\n\n  handleSubmit = evt => {\n    const { inputValue } = this.state;\n\n    evt.preventDefault();\n    this.getPhotos(inputValue);\n  };\n\n  getPhotos = query => {\n    this.setState({ isLoading: true });\n\n    fetchPhotos(query)\n      .then(res => this.setState({ photos: res.data.hits }))\n      .catch(() => this.setState({ isError: true }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  nextFetchPhotos = (query, pageNumber) => {\n    this.setState({ isLoading: true });\n\n    fetchPhotos(query, pageNumber)\n      .then(res =>\n        this.setState(\n          prevState => ({\n            photos: [...prevState.photos, ...res.data.hits],\n          }),\n          this.scrollPage,\n        ),\n      )\n      .catch(() => this.setState({ isError: true }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  scrollPage = () => {\n    const { scrollHeight } = this.listRef.current;\n\n    window.scrollTo({\n      top: scrollHeight - 1160,\n      behavior: 'smooth',\n    });\n  };\n\n  countClick = () => {\n    this.setState(prevState => ({\n      count: prevState.count + 1,\n    }));\n  };\n\n  showMorePhotos = query => {\n    const { count } = this.state;\n\n    this.nextFetchPhotos(query, count);\n    this.countClick();\n  };\n\n  openModal = id => {\n    this.setState({ isOpenModal: true, checkedImgId: id });\n  };\n\n  closeModal = () => {\n    this.setState({ isOpenModal: false });\n  };\n\n  render() {\n    const {\n      inputValue,\n      photos,\n      isLoading,\n      isError,\n      isOpenModal,\n      checkedImgId,\n    } = this.state;\n    const checkedImg = photos.find(el => el.id === checkedImgId);\n\n    return (\n      <div className={style.app} ref={this.listRef}>\n        <SearchForm\n          inputValue={inputValue}\n          handleChange={this.handleChange}\n          handleSubmit={this.handleSubmit}\n        />\n        {isLoading && <Loader />}\n        {isError && <Error />}\n        {photos.length > 0 && (\n          <Gallery\n            photos={photos}\n            checkedImg={checkedImg}\n            showMorePhotos={() => this.showMorePhotos(inputValue)}\n            isOpenModal={isOpenModal}\n            openModal={this.openModal}\n            closeModal={this.closeModal}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"Gallery_gallery__3gLyl\",\"button\":\"Gallery_button__1EVJF\",\"gallery-item\":\"Gallery_gallery-item__2OOly\",\"fullscreen-button\":\"Gallery_fullscreen-button__38n95\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__x9ZlY\",\"modal\":\"Modal_modal__3m_ue\"};"],"sourceRoot":""}