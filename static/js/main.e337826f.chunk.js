(window["webpackJsonpgoit-react-hw-03-image-finder"]=window["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{2:function(e,t,a){e.exports={photoCard:"PhotoCard_photoCard__3yimJ",photoCardImg:"PhotoCard_photoCardImg__39-kY",stats:"PhotoCard_stats__1jisE",statsItem:"PhotoCard_statsItem__2blRh",fullscreenButton:"PhotoCard_fullscreenButton__3XrBI",modalImg:"PhotoCard_modalImg__3pdty"}},21:function(e,t,a){e.exports={app:"App_app__1djDG"}},22:function(e,t,a){e.exports={searchForm:"SearchForm_searchForm__29_Rt"}},23:function(e,t,a){e.exports={loader:"Loader_loader__2OxB2"}},24:function(e,t,a){e.exports={error:"Error_error__lVObW"}},26:function(e,t,a){e.exports=a(48)},48:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(20),l=a.n(r),c=a(10),s=a(3),i=a(4),u=a(6),d=a(5),m=a(7),h=a(21),p=a.n(h),f=a(22),g=a.n(f),_=function(e){var t=e.inputValue,a=e.handleChange,n=e.handleSubmit;return o.a.createElement("form",{className:g.a.searchForm,onSubmit:n},o.a.createElement("input",{type:"text",autoComplete:"off",placeholder:"Search images...",value:t,onChange:a}))},b=a(8),v=a.n(b),y=a(2),E=a.n(y),k=a(9),M=a.n(k),w=function(e){function t(){var e,a;Object(s.a)(this,t);for(var o=arguments.length,r=new Array(o),l=0;l<o;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).backdropRef=Object(n.createRef)(),a.handlePressKey=function(e){"Escape"===e.code&&a.props.closeModal()},a.handleBackdropClick=function(e){var t=a.backdropRef.current;t&&e.target!==t||a.props.closeModal()},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"UNSAFE_componentWillMount",value:function(){window.removeEventListener("keydown",this.handlePressKey)}},{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handlePressKey)}},{key:"render",value:function(){var e=this.props.children;return o.a.createElement("div",{className:M.a.overlay,role:"button",tabIndex:0,ref:this.backdropRef,onClick:this.handleBackdropClick},o.a.createElement("div",{className:M.a.modal},e))}}]),t}(n.Component),I=function(e){var t=e.id,a=e.url,n=e.likes,r=e.views,l=e.comments,c=e.downloads,s=e.isOpenModal,i=e.openModal,u=e.closeModal,d=e.checkedImg;return o.a.createElement("li",{className:E.a.photoCard},o.a.createElement("img",{className:E.a.photoCardImg,src:a,alt:""}),o.a.createElement("div",{className:E.a.stats},o.a.createElement("p",{className:E.a.statsItem},o.a.createElement("i",{className:"material-icons"},"thumb_up"),n),o.a.createElement("p",{className:E.a.statsItem},o.a.createElement("i",{className:"material-icons"},"visibility"),r),o.a.createElement("p",{className:E.a.statsItem},o.a.createElement("i",{className:"material-icons"},"comment"),l),o.a.createElement("p",{className:E.a.statsItem},o.a.createElement("i",{className:"material-icons"},"cloud_download"),c)),o.a.createElement("button",{type:"button",className:E.a.fullscreenButton,onClick:function(){return i(t)}},o.a.createElement("i",{className:"material-icons"},"zoom_out_map")),s&&o.a.createElement(w,{closeModal:u},o.a.createElement("img",{className:E.a.modalImg,src:d.largeImageURL,alt:""})))};I.defaultProps={checkedImg:{}};var C=I,O=function(e){var t=e.photos,a=e.checkedImg,n=e.showMorePhotos,r=e.isOpenModal,l=e.openModal,c=e.closeModal;return o.a.createElement("div",null,o.a.createElement("ul",{className:v.a.gallery},t.map((function(e){return o.a.createElement(C,{key:e.id,url:e.webformatURL,likes:e.likes,views:e.views,comments:e.comments,downloads:e.downloads,id:e.id,isOpenModal:r,openModal:l,closeModal:c,checkedImg:a})}))),o.a.createElement("button",{className:v.a.button,type:"button",onClick:n},"Load more"))};O.defaultProps={checkedImg:{}};var N=O,P=a(23),S=a.n(P),j=function(){return o.a.createElement("h2",{className:S.a.loader},"Loading...")},x=a(24),L=a.n(x),R=function(){return o.a.createElement("h2",{className:L.a.error},"Sorry, we couldn't find photos. Please try again later.")},B=a(25),F=a.n(B),V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a="https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=".concat(e,"&page=").concat(t,"&per_page=12&key=5018958-ed49ccd90878e6614abdf24a6");return F.a.get(a)},G=function(e){function t(){var e,a;Object(s.a)(this,t);for(var o=arguments.length,r=new Array(o),l=0;l<o;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={photos:[],inputValue:"",isLoading:!1,isError:!1,count:2,isOpenModal:!1,checkedImgId:null},a.listRef=Object(n.createRef)(),a.handleChange=function(e){a.setState({inputValue:e.target.value})},a.handleSubmit=function(e){var t=a.state.inputValue;e.preventDefault(),a.getPhotos(t)},a.getPhotos=function(e){a.setState({isLoading:!0}),V(e).then((function(e){return a.setState({photos:e.data.hits})})).catch((function(){return a.setState({isError:!0})})).finally((function(){return a.setState({isLoading:!1})}))},a.nextFetchPhotos=function(e,t){a.setState({isLoading:!0}),V(e,t).then((function(e){return a.setState((function(t){return{photos:[].concat(Object(c.a)(t.photos),Object(c.a)(e.data.hits))}}),a.scrollPage)})).catch((function(){return a.setState({isError:!0})})).finally((function(){return a.setState({isLoading:!1})}))},a.scrollPage=function(){var e=a.listRef.current.scrollHeight;window.scrollTo({top:e-1160,behavior:"smooth"})},a.countClick=function(){a.setState((function(e){return{count:e.count+1}}))},a.showMorePhotos=function(e){var t=a.state.count;a.nextFetchPhotos(e,t),a.countClick()},a.openModal=function(e){a.setState({isOpenModal:!0,checkedImgId:e})},a.closeModal=function(){a.setState({isOpenModal:!1})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getPhotos()}},{key:"render",value:function(){var e=this,t=this.state,a=t.inputValue,n=t.photos,r=t.isLoading,l=t.isError,c=t.isOpenModal,s=t.checkedImgId,i=n.find((function(e){return e.id===s}));return o.a.createElement("div",{className:p.a.app,ref:this.listRef},o.a.createElement(_,{inputValue:a,handleChange:this.handleChange,handleSubmit:this.handleSubmit}),r&&o.a.createElement(j,null),l&&o.a.createElement(R,null),n.length>0&&o.a.createElement(N,{photos:n,checkedImg:i,showMorePhotos:function(){return e.showMorePhotos(a)},isOpenModal:c,openModal:this.openModal,closeModal:this.closeModal}))}}]),t}(n.Component);l.a.render(o.a.createElement(G,null),document.getElementById("root"))},8:function(e,t,a){e.exports={gallery:"Gallery_gallery__3gLyl",button:"Gallery_button__1EVJF","gallery-item":"Gallery_gallery-item__2OOly","fullscreen-button":"Gallery_fullscreen-button__38n95"}},9:function(e,t,a){e.exports={overlay:"Modal_overlay__x9ZlY",modal:"Modal_modal__3m_ue"}}},[[26,1,2]]]);
//# sourceMappingURL=main.e337826f.chunk.js.map